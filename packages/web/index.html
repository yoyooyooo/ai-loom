<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ai-loom</title>
  </head>
  <body class="min-h-svh">
    <div id="root"></div>
    <script>
      // 在应用加载前尽早应用持久化的主题，避免 FOUC
      try {
        const raw = localStorage.getItem('ailoom.app')
        if (raw) {
          const parsed = JSON.parse(raw)
          const theme = parsed?.state?.theme
          if (theme === 'dark' || theme === 'light') {
            const root = document.documentElement
            root.classList.toggle('dark', theme === 'dark')
          }
        }
      } catch {}
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
